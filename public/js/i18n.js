// הגדרת i18next כגלובלי לצד הלקוח
window.i18next = {
  t: function(key) {
    // קביעת שפה נוכחית (ברירת מחדל: עברית)
    const currentLang = document.documentElement.lang || 'he';
    
    // תרגומים בעברית
    const he = {
      // Common errors
      "common.errors.loginError": "שגיאה בהתחברות",
      "common.errors.fillAllFields": "אנא מלא את כל השדות",
      "common.errors.fillAllFieldsRequired": "אנא מלא את כל השדות הנדרשים",
      "common.errors.invalidPhone": "מספר טלפון לא תקין",
      "common.errors.connectionError": "שגיאה בחיבור לשרת",
      "common.errors.serverError": "שגיאה בשרת – נסה שוב",
      "common.errors.unknownError": "אירעה שגיאה לא ידועה",
      "common.errors.noSession": "Session לא נוצר",
      "common.errors.userError": "שגיאה בהבאת נתוני המשתמש",
      "common.errors.errorFetchingProperties": "שגיאה בטעינת הנכסים",
      "common.errors.errorLoadingProperty": "שגיאה בטעינת הנכס",
      "common.errors.errorSendingForm": "שגיאה בשליחת הטופס",
      "common.errors.errorSendingRequest": "אירעה שגיאה בשליחת הפנייה. אנא נסה שוב.",
      "common.errors.error": "❌ שגיאה:",

      // Common success
      "common.success.propertyAdded": "הדירה נוספה בהצלחה!",
      "common.success.propertyUpdated": "הדירה עודכנה בהצלחה!",
      "common.success.propertyRestored": "הנכס שוחזר בהצלחה!",
      "common.success.propertyHidden": "הנכס הוסתר בהצלחה!",
      "common.success.formSubmitted": "הטופס נשלח בהצלחה",

      // Common messages
      "common.messages.thankYou": "תודה! פנייתך נשלחה בהצלחה. נחזור אליך בהקדם.",
      "common.messages.sendingData": "שולח נתונים...",
      "common.messages.loading": "טוען...",

      // Admin
      "admin.propertyManagement": "ניהול נכסים",
      "admin.addNewProperty": "הוספת נכס חדש",
      "admin.backToHome": "חזרה לדף הבית",
      "admin.backToDashboard": "חזרה לדשבורד",
      "admin.logout": "יציאה",
      "admin.loading": "טוען...",
      "admin.status": "סטטוס",
      "admin.active": "פעיל",
      "admin.hidden": "מוסתר",
      "admin.edit": "עריכה",
      "admin.hide": "הסתר",
      "admin.restore": "שחזור",
      "admin.noPermission": "❌ אין הרשאה – אנא התחבר מחדש",
      "admin.connectionError": "❌ שגיאה בחיבור לשרת",
      "admin.deleteError": "❌ שגיאה במחיקת נכס",
      "admin.restoreError": "❌ שגיאה בשחזור נכס",
      "admin.errorFileType": "❌ סוג קובץ לא נתמך עבור",
      "admin.onlyImagesSupported": "רק תמונות נתמכות",

      // Property
      "property.selectAtLeastOneImage": "אנא בחר לפחות תמונה אחת",
      "property.enterCity": "הכנס שם העיר",
      "property.enterStreet": "הכנס שם הרחוב",
      "property.enterNumber": "מספר בית",
      "property.enterFloor": "קומה",
      "property.enterDescription": "תאר את הנכס בפירוט...",
      "property.selectPropertyType": "בחר סוג נכס",
      "property.apartment": "דירה",
      "property.house": "בית",
      "property.villa": "וילה",
      "property.cabin": "בקתה",
      "property.hotel": "מלון",
      "property.phoneValidation": "הכנס מספר טלפון ישראלי (10 ספרות, מתחיל ב-0)",
      "property.whatsappValidation": "הכנס מספר WhatsApp ישראלי (10 ספרות, מתחיל ב-0)",

      // Admin form fields
      "admin.basicInfo": "מידע בסיסי",
      "admin.enterTitle": "הכנס כותרת הנכס",
      "admin.location": "מיקום",
      "admin.description": "תיאור",
      "admin.images": "תמונות",
      "admin.propertyDetails": "פרטי נכס",
      "admin.bedrooms": "חדרי שינה",
      "admin.beds": "מיטות",
      "admin.bathrooms": "חדרי אמבטיה",
      "admin.maxOccupancy": "נפשות מקסימום",
      "admin.propertyType": "סוג נכס",
      "admin.amenities": "מתקנים",
      "admin.kitchen": "מטבח",
      "admin.washingmachine": "מכונת כביסה",
      "admin.wifi": "Wi-Fi",
      "admin.tv": "טלוויזיה",
      "admin.parking": "חניה",
      "admin.publictransportnearby": "תחבורה ציבורית בסביבה",
      "admin.pool": "בריכה",
      "admin.privatePool": "בריכה פרטית",
      "admin.jacuzzi": "ג'קוזי",
      "admin.grill": "מנגל",
      "admin.contactInfo": "פרטי יצירת קשר",
      "admin.phone": "טלפון",
      "admin.whatsapp": "WhatsApp",
      "admin.terms": "תנאים",
      "admin.checkInTime": "שעת כניסה",
      "admin.checkOutTime": "שעת יציאה",
      "admin.minstaydays": "מינימום לילות שהייה",
      "admin.suitableFor": "מתאים ל",
      "admin.families": "משפחות",
      "admin.religious": "דתיים",
      "admin.groups": "קבוצות",
      "admin.couples": "זוגות",
      "admin.nearby": "בקרבת מקום",
      "admin.synagogue": "בית כנסת",
      "admin.restaurants": "מסעדות",
      "admin.shoppingCenter": "מרכז קניות",
      "admin.publicTransport": "תחבורה ציבורית",
      "admin.save": "שמור",
      "admin.login": "כניסת מנהל",
      "admin.email": "אימייל",
      "admin.password": "סיסמה",
      "admin.loginButton": "כניסה",
      "admin.noPermissions": "❌ אין הרשאה – אנא התחבר מחדש",

      // Contact requests
      "admin.contactRequests": "בקשות יצירת קשר",
      "admin.backToDashboard": "חזרה לדשבורד",
      "admin.totalRequests": "סה״כ בקשות",
      "admin.pendingRequests": "בקשות ממתינות",
      "admin.contactedRequests": "בקשות שנוצר קשר",
      "admin.pending": "ממתין",
      "admin.contacted": "נוצר קשר",
      "admin.closed": "סגור",
      "admin.noContactRequests": "אין בקשות יצירת קשר כרגע",
      "admin.phone": "טלפון",
      "admin.propertyPrice": "מחיר הנכס",
      "admin.call": "התקשר",
      "admin.markAsContacted": "סמן כנוצר קשר",
      "admin.closeRequest": "סגור בקשה",
      "admin.delete": "מחק",
      "admin.noPermission": "אין הרשאה - אנא התחבר מחדש",
      "admin.statusUpdated": "הסטטוס עודכן בהצלחה!",
      "admin.errorUpdatingStatus": "שגיאה בעדכון הסטטוס:",
      "admin.confirmDelete": "האם אתה בטוח שברצונך למחוק את הבקשה?",
      "admin.requestDeleted": "הבקשה נמחקה בהצלחה!",
      "admin.errorDeletingRequest": "שגיאה במחיקת הבקשה:",

      // Property details
      "property.notFound": "דירה לא נמצאה",
      "property.backToList": "חזרה לרשימת דירות",
      "property.floor": "קומה",
      "property.noRating": "לא דירוג",
      "property.excellent": "מצוין",
      "property.reviews": "חוות דעת",
      "property.call": "התקשר",
      "property.whatsapp": "WhatsApp",
      "property.whatsappMessage": "שלום, אני מעוניין לשאול על הדירה:",
      "property.details": "פרטים",
      "property.pricePerNight": "מחיר ללילה",
      "property.bedrooms": "חדרי שינה",
      "property.bathrooms": "חדרי רחצה",
      "property.maxGuests": "מקס' נופשים",
      "property.aboutPlace": "אודות המקום",
      "property.amenities": "מתקנים",
      "property.generalFacilities": "מתקנים כלליים",
      "property.kitchen": "מטבח",
      "property.washingMachine": "מכונת כביסה",
      "property.tv": "טלוויזיה",
      "property.parking": "חניה",
      "property.publicTransport": "תחבורה ציבורית",
      "property.outdoorFacilities": "מתקנים בחוץ",
      "property.pool": "בריכה",
      "property.privatePool": "בריכה פרטית",
      "property.jacuzzi": "ג'קוזי",
      "property.grill": "מנגל",
      "property.suitableFor": "מתאים ל",
      "property.nearby": "בקרבת מקום",
      "property.stayDetails": "פרטי שהייה",
      "property.checkInTime": "שעת כניסה",
      "property.checkOutTime": "שעת יציאה",
      "property.minimumNights": "מינימום לילות",
      "property.nights": "לילות",
      "property.maximumGuests": "מקסימום נופשים",
      "property.people": "אנשים",
      "property.contactDetails": "פרטי יצירת קשר",
      "property.phone": "טלפון",
      "property.map": "מפה",
      "property.openMap": "פתח מפה",
      "property.contactForm": "אני רוצה להתארח כאן",
      "property.fullName": "שם מלא",
      "property.email": "כתובת דואר אלקטרוני",
      "property.enterFullName": "הכנס את שמך המלא",
      "property.enterEmail": "הכנס את כתובת הדואל שלך",
      "property.enterPhone": "הכנס את מספר הטלפון שלך",
      "property.selectGuests": "בחירת הרכב",
      "property.guest": "נופש",
      "property.guests": "נופשים",
      "property.checkintime": "צ'ק-אין",
      "property.checkouttime": "צ'ק-אאוט",
      "property.specialRequests": "בקשות מיוחדות",
      "property.specialRequestsPlaceholder": "מוזמנים להוסיף בקשה למקום האירוח",
      "property.receiveOffers": "מעוניין לקבל מבצעים בדואר אלקטרוני",
      "property.submitButton": "חזרו אלי",
      "property.sendingData": "שולח...",
      "property.moreImages": "עוד תמונות",
      "property.israel": "ישראל"
    };

    // תרגומים באנגלית
    const en = {
      // Common errors
      "common.errors.loginError": "Login error",
      "common.errors.fillAllFields": "Please fill in all fields",
      "common.errors.fillAllFieldsRequired": "Please fill in all required fields",
      "common.errors.invalidPhone": "Invalid phone number",
      "common.errors.connectionError": "Connection error with server",
      "common.errors.serverError": "Server error, please try again",
      "common.errors.unknownError": "Unknown error occurred",
      "common.errors.noSession": "Session not created",
      "common.errors.userError": "Error fetching user data",
      "common.errors.errorFetchingProperties": "Error loading properties",
      "common.errors.errorLoadingProperty": "Error loading property",
      "common.errors.errorSendingForm": "Error sending form",
      "common.errors.errorSendingRequest": "An error occurred while sending the request. Please try again.",
      "common.errors.error": "❌ Error:",

      // Common success
      "common.success.propertyAdded": "Property successfully added!",
      "common.success.propertyUpdated": "Property updated successfully!",
      "common.success.propertyRestored": "Property restored successfully!",
      "common.success.propertyHidden": "Property hidden successfully!",
      "common.success.formSubmitted": "Form submitted successfully",

      // Common messages
      "common.messages.thankYou": "Thank you! Your request has been sent successfully. We will get back to you soon.",
      "common.messages.sendingData": "Sending data...",
      "common.messages.loading": "Loading...",

      // Admin
      "admin.propertyManagement": "Property Management",
      "admin.addNewProperty": "Add New Property",
      "admin.backToHome": "Back to Home",
      "admin.backToDashboard": "Back to Dashboard",
      "admin.logout": "Logout",
      "admin.loading": "Loading...",
      "admin.status": "Status",
      "admin.active": "Active",
      "admin.hidden": "Hidden",
      "admin.edit": "Edit",
      "admin.hide": "Hide",
      "admin.restore": "Restore",
      "admin.noPermission": "❌ No permission – please log in again",
      "admin.connectionError": "❌ Connection error with server",
      "admin.deleteError": "❌ Error deleting property",
      "admin.restoreError": "❌ Error restoring property",
      "admin.errorFileType": "❌ Unsupported file type for",
      "admin.onlyImagesSupported": "Only images are supported",

      // Property
      "property.selectAtLeastOneImage": "Please select at least one image",
      "property.enterCity": "Enter city name",
      "property.enterStreet": "Enter street name",
      "property.enterNumber": "House number",
      "property.enterFloor": "Floor",
      "property.enterDescription": "Describe the property in detail...",
      "property.selectPropertyType": "Select property type",
      "property.apartment": "Apartment",
      "property.house": "House",
      "property.villa": "Villa",
      "property.cabin": "Cabin",
      "property.hotel": "Hotel",
      "property.phoneValidation": "Enter Israeli phone number (10 digits, starts with 0)",
      "property.whatsappValidation": "Enter Israeli WhatsApp number (10 digits, starts with 0)",

      // Admin form fields
      "admin.basicInfo": "Basic Information",
      "admin.enterTitle": "Enter property title",
      "admin.location": "Location",
      "admin.description": "Description",
      "admin.images": "Images",
      "admin.propertyDetails": "Property Details",
      "admin.bedrooms": "Bedrooms",
      "admin.beds": "Beds",
      "admin.bathrooms": "Bathrooms",
      "admin.maxOccupancy": "Max Occupancy",
      "admin.propertyType": "Property Type",
      "admin.amenities": "Amenities",
      "admin.kitchen": "Kitchen",
      "admin.washingmachine": "Washing Machine",
      "admin.wifi": "Wi-Fi",
      "admin.tv": "TV",
      "admin.parking": "Parking",
      "admin.publictransportnearby": "Public Transport Nearby",
      "admin.pool": "Pool",
      "admin.privatePool": "Private Pool",
      "admin.jacuzzi": "Jacuzzi",
      "admin.grill": "Grill",
      "admin.contactInfo": "Contact Information",
      "admin.phone": "Phone",
      "admin.whatsapp": "WhatsApp",
      "admin.terms": "Terms",
      "admin.checkInTime": "Check-in Time",
      "admin.checkOutTime": "Check-out Time",
      "admin.minstaydays": "Minimum Stay Days",
      "admin.suitableFor": "Suitable for",
      "admin.families": "Families",
      "admin.religious": "Religious",
      "admin.groups": "Groups",
      "admin.couples": "Couples",
      "admin.nearby": "Nearby",
      "admin.synagogue": "Synagogue",
      "admin.restaurants": "Restaurants",
      "admin.shoppingCenter": "Shopping Center",
      "admin.publicTransport": "Public Transport",
      "admin.save": "Save",
      "admin.login": "Admin Login",
      "admin.email": "Email",
      "admin.password": "Password",
      "admin.loginButton": "Login",
      "admin.noPermissions": "❌ No permission – please log in again",

      // Contact requests
      "admin.contactRequests": "Contact Requests",
      "admin.backToDashboard": "Back to Dashboard",
      "admin.totalRequests": "Total Requests",
      "admin.pendingRequests": "Pending Requests",
      "admin.contactedRequests": "Contacted Requests",
      "admin.pending": "Pending",
      "admin.contacted": "Contacted",
      "admin.closed": "Closed",
      "admin.confirmMarkAsContacted": "Mark this request as contacted?",
      "admin.requestMarkedAsContacted": "Request marked as contacted",
      "admin.noContactRequests": "No contact requests at the moment",
      "admin.phone": "Phone",
      "admin.propertyPrice": "Property Price",
      "admin.call": "Call",
      "admin.markAsContacted": "Mark as Contacted",
      "admin.closeRequest": "Close Request",
      "admin.delete": "Delete",
      "admin.noPermission": "No permission - please log in again",
      "admin.statusUpdated": "Status updated successfully!",
      "admin.errorUpdatingStatus": "Error updating status:",
      "admin.confirmDelete": "Are you sure you want to delete this request?",
      "admin.requestDeleted": "Request deleted successfully!",
      "admin.errorDeletingRequest": "Error deleting request:",

      // Property details
      "property.notFound": "Property not found",
      "property.backToList": "Back to property list",
      "property.floor": "Floor",
      "property.noRating": "No Rating",
      "property.excellent": "Excellent",
      "property.reviews": "Reviews",
      "property.call": "Call",
      "property.whatsapp": "WhatsApp",
      "property.whatsappMessage": "Hello, I'm interested in asking about the property:",
      "property.details": "Details",
      "property.pricePerNight": "Price per night",
      "property.bedrooms": "Bedrooms",
      "property.bathrooms": "Bathrooms",
      "property.maxGuests": "Max guests",
      "property.aboutPlace": "About the Place",
      "property.amenities": "Amenities",
      "property.generalFacilities": "General Facilities",
      "property.kitchen": "Kitchen",
      "property.washingMachine": "Washing Machine",
      "property.tv": "TV",
      "property.parking": "Parking",
      "property.publicTransport": "Public Transport",
      "property.outdoorFacilities": "Outdoor Facilities",
      "property.pool": "Pool",
      "property.privatePool": "Private Pool",
      "property.jacuzzi": "Jacuzzi",
      "property.grill": "Grill",
      "property.suitableFor": "Suitable for",
      "property.nearby": "Nearby",
      "property.stayDetails": "Stay Details",
      "property.checkInTime": "Check-in Time",
      "property.checkOutTime": "Check-out Time",
      "property.minimumNights": "Minimum Nights",
      "property.nights": "nights",
      "property.maximumGuests": "Maximum Guests",
      "property.people": "people",
      "property.contactDetails": "Contact Details",
      "property.phone": "Phone",
      "property.map": "Map",
      "property.openMap": "Open Map",
      "property.contactForm": "I want to stay here",
      "property.fullName": "Full Name",
      "property.email": "Email Address",
      "property.enterFullName": "Enter your full name",
      "property.enterEmail": "Enter your email address",
      "property.enterPhone": "Enter your phone number",
      "property.selectGuests": "Select guests",
      "property.guest": "guest",
      "property.guests": "guests",
      "property.checkintime": "Check-in",
      "property.checkouttime": "Check-out",
      "property.specialRequests": "Special requests",
      "property.specialRequestsPlaceholder": "Feel free to add any requests",
      "property.receiveOffers": "I would like to receive offers by email",
      "property.submitButton": "Contact me",
      "property.sendingData": "Sending...",
      "property.moreImages": "More Images",
      "property.israel": "Israel"
    };

    // בחירת השפה המתאימה
    const translations = currentLang === 'en' ? en : he;
    
    return translations[key] || key;
  }
};
